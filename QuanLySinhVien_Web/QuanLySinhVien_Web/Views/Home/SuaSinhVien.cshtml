@model QuanLySinhVien_Web.Models.SinhVien
@{
    ViewData["Title"] = "SuaSinhVien";
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.flagActive = "SinhVien";
}

<div class="container mt-5">
    <h2>Cập Nhật Thông Tin Sinh Viên</h2>
    <form asp-action="SuaSinhVien" method="POST">
        <div class="mb-3">
            <label for="MaSV" class="form-label">Mã Sinh Viên</label>
            <input type="text" class="form-control" id="MaSV" name="MaSV" value="@Model.MaSV" readonly>
        </div>

        <div class="mb-3">
            <label for="Ho" class="form-label">Họ</label>
            <input type="text" class="form-control" id="Ho" name="Ho" value="@Model.Ho" required>
        </div>

        <div class="mb-3">
            <label for="Ten" class="form-label">Tên</label>
            <input type="text" class="form-control" id="Ten" name="Ten" value="@Model.Ten" required>
        </div>

        <div class="mb-3">
            <label for="NgaySinh" class="form-label">Ngày Sinh</label>
            <input type="date" class="form-control" id="NgaySinh" name="NgaySinh" value="@Model.NgaySinh?.ToString("yyyy-MM-dd")" required>
        </div>

        <div class="mb-3">
            <label for="GioiTinh" class="form-label">Giới Tính</label>
            <select class="form-select" id="GioiTinh" name="GioiTinh" required>
                @if (Model.GioiTinh == "Nam")
                {
                    <option value="Nam" selected>Nam</option>
                } else
                {
                    <option value="Nam">Nam</option>
                }
                @if (Model.GioiTinh == "Nữ")
                {
                    <option value="Nữ" selected>Nữ</option>
                } else
                {
                    <option value="Nữ">Nữ</option>
                }
            </select>
        </div>

        <div class="mb-3">
            <label for="NoiSinh" class="form-label">Nơi Sinh</label>
            <input type="text" class="form-control" id="NoiSinh" name="NoiSinh" value="@Model.NoiSinh" required>
        </div>

        <div class="mb-3">
            <label for="DiaChi" class="form-label">Địa Chỉ</label>
            <input type="text" class="form-control" id="DiaChi" name="DiaChi" value="@Model.DiaChi" required>
        </div>

        <div class="mb-3">
            <label for="DanToc" class="form-label">Dân Tộc</label>
            <input type="text" class="form-control" id="DanToc" name="DanToc" value="@Model.DanToc" required>
        </div>

        <div class="mb-3">
            <label for="Mobile" class="form-label">Số Điện Thoại</label>
            <input type="text" class="form-control" id="Mobile" name="Mobile" value="@Model.Mobile" maxlength="10" required>
        </div>

        <div class="mb-3">
            <label for="Email" class="form-label">Email</label>
            <input type="email" class="form-control" id="Email" name="Email" value="@Model.Email" required>
        </div>

        <div class="mb-3">
            <label for="StatusSV" class="form-label">Trạng Thái Sinh Viên</label>
            <select class="form-select" id="StatusSV" name="StatusSV" required>
                @if (Model.StatusSV == "Đang học")
                {
                    <option value="Đang học" selected>Đang học</option>
                }
                else
                {
                    <option value="Đang học">Đang học</option>
                }
                @if (Model.StatusSV == "Tạm ngưng")
                {
                    <option value="Tạm ngưng" selected>Tạm ngưng</option>
                }
                else
                {
                    <option value="Tạm ngưng">Tạm ngưng</option>
                }
                @if (Model.StatusSV == "Thôi học")
                {
                    <option value="Thôi học" selected>Thôi học</option>
                }
                else
                {
                    <option value="Thôi học">Thôi học</option>
                }
                @if (Model.StatusSV == "Đã tốt nghiệp")
                {
                    <option value="Đã tốt nghiệp" selected>Đã tốt nghiệp</option>
                }
                else
                {
                    <option value="Đã tốt nghiệp">Đã tốt nghiệp</option>
                }
            </select>
        </div>

        <div class="mb-3">
            <label for="GhiChu" class="form-label">Ghi Chú</label>
            <textarea class="form-control" id="GhiChu" name="GhiChu">@Model.GhiChu</textarea>
        </div>

        <div class="mb-3">
            <label for="PWord" class="form-label">Mật khẩu</label>
            <div class="input-group">
                <input type="password" class="form-control" id="PWord" name="PWord" value="@Model.PWord" maxlength="10" required>
                <button type="button" class="btn btn-outline-secondary" onclick="togglePassword()">
                    <i class="bi bi-eye" id="eyeIcon"></i>
                </button>
            </div>
        </div>

        <button type="submit" class="btn btn-success">Cập Nhật</button>
        <a href="@Url.Action("Index", "SinhVien")" class="btn btn-secondary ml-2">Hủy</a>
    </form>
</div>
<script>
    function togglePassword() {
        const pwInput = document.getElementById("PWord");
        const eyeIcon = document.getElementById("eyeIcon");

        if (pwInput.type === "password") {
            pwInput.type = "text";
            eyeIcon.classList.remove("bi-eye");
            eyeIcon.classList.add("bi-eye-slash");
        } else {
            pwInput.type = "password";
            eyeIcon.classList.remove("bi-eye-slash");
            eyeIcon.classList.add("bi-eye");
        }
    }
</script>